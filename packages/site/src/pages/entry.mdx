import Example from "../components/Example.astro";
import { normalizeExample } from "../utils/examples.ts";
import homeRouteExample from "./entry/_examples/home-route.tsx?raw";
import { TabItem, Tabs } from "@astrojs/starlight/components";
import StarlightPage from "@astrojs/starlight/components/StarlightPage.astro";

<StarlightPage
  frontmatter={{
    title: "Entry",
  }}
  headings={[{ depth: 2, text: "Example", slug: "example" }]}
>

The DreamKit entry allows you to programmatically define services, middlewares, api functions and routes in a single file.

It can be used as an optional alternative to the file routing system and both can work together at the same time. In addition, it has an advanced tree shaking system that separates each route with its dependencies and is compatible with HMR.

All examples shown in the documentation make use of this mechanic to more easily illustrate the code. And remember, the entry is optional and you can use the file routing system also.

The following examples are equivalent:

  <Tabs>
    <TabItem label="DreamKit entry">
      <Example
        {...normalizeExample({ default: homeRouteExample })}
        fileName="/src/dreamkit.tsx"
        title={false}
      />
    </TabItem>
    <TabItem label="File system routing">
      <Example
        {...normalizeExample({ default: homeRouteExample })}
        fileName="/src/routes/index.tsx"
        title={false}
      />
    </TabItem>
  </Tabs>
</StarlightPage>
